import pytest

from geompy import line_string_has_cluster_tolerance


@pytest.mark.parametrize('coords, expected', [
    ([
         (149.144013527345, -35.319866267652), (149.145095491145, -35.3205107474579),
         (149.145095493535, -35.320510748862), (149.14509552658, -35.320510768459),
         (149.145647633923, -35.3208394838082)
     ], True),
    ([
        (149.145646846646, -35.3208390040133),
        (149.146481462684, -35.3213382707088),
        (149.146572466178, -35.3213947783905),
        (149.146646984692, -35.3214267491473),
        (149.146697358328, -35.3214309332063),
        (149.146735016032, -35.3214229282831),
        (149.146787935782, -35.3213932084569),
        (149.14683998829, -35.3213567322889),
        (149.147022915141, -35.3211920900004),
        (149.147143598287, -35.3210951418889),
        (149.147217225533, -35.3210413529586),
        (149.147338296122, -35.3209590698437),
        (149.147509831171, -35.3208583963097),
        (149.14760708075, -35.3208126520605),
        (149.147689098367, -35.3207897508234),
        (149.147755930661, -35.3207654264566)
     ], False)
])
def test_cluster_tolerance(coords, expected):
    assert line_string_has_cluster_tolerance(coords) is expected
